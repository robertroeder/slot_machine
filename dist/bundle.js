!function(n){var t={};function e(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return n[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(i,r,function(t){return n[t]}.bind(null,r));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){e(21),n.exports=e(14)},function(n,t,e){var i={"./carmen.png":2,"./carmen_chef.png":3,"./carmen_space.png":4,"./darwin.png":5,"./darwin_hardhat.png":6,"./hammy.png":7,"./hammy_chef.png":8,"./hammy_sheriff.png":9,"./hammy_sherlock.png":10,"./yelp_burst.png":11};function r(n){var t=o(n);return e(t)}function o(n){var t=i[n];if(!(t+1)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return t}r.keys=function(){return Object.keys(i)},r.resolve=o,n.exports=r,r.id=1},function(n,t,e){n.exports=e.p+"4197c1d00d1b67030420477c45d0e0e2.png"},function(n,t,e){n.exports=e.p+"1f31a090747e2a97ab65bf580c1db46a.png"},function(n,t,e){n.exports=e.p+"dbffeea2265ba61531574befaf0299a0.png"},function(n,t,e){n.exports=e.p+"fba578729d2b200f097b06af53cd663d.png"},function(n,t,e){n.exports=e.p+"f2b903feb185cc6b68870f1840fa32d7.png"},function(n,t,e){n.exports=e.p+"55449647789309b6c78fff3f0d4b2734.png"},function(n,t,e){n.exports=e.p+"2876c93c2ea2b88d76f45e57281d7c2a.png"},function(n,t,e){n.exports=e.p+"b55882991bfab2885b61e346ff33c994.png"},function(n,t,e){n.exports=e.p+"2e8d5112ec62bfb10331cd0a370ab4f6.png"},function(n,t,e){n.exports=e.p+"16796392d0b1ad7e5cd37a4c33c7f8a7.png"},function(n,t,e){n.exports=e.p+"ee214e31530451f5f90d5b15be836dd6.m4a"},function(n,t,e){n.exports=e.p+"52991c5556620724ced9fff6c9963a15.m4a"},function(n,t,e){var i=e(15);"string"==typeof i&&(i=[[n.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(19)(i,r);i.locals&&(n.exports=i.locals)},function(n,t,e){var i=e(16);(n.exports=e(17)(!1)).push([n.i,"body {\n  width: 100vw;\n  height: 100vh;\n  padding: 1rem;\n  background-color: #D32323;\n  background-image: url("+i(e(18))+");\n  background-repeat: space;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-family: 'Roboto Condensed', sans-serif;\n}\n\n#reels {\n  display: flex;\n  width: 100vw;\n  height: calc((3 / 5) * 100vw);\n  max-height: calc(90vh - 70px);\n  max-width: calc((5 / 3) * (90vh - 50px));\n}\n\n.reel {\n  overflow: hidden;\n  width: 20%;\n  height: 100%;\n  border: 5px solid black;\n}\n\n.reel > .icons {\n    //height: inherit;\n}\n\n.reel > .icons > img {\n  width: calc(100% + 6px);\n  width: 100%;\n  height: auto;\n}\n\n#payouts {\n    height: 40px;\n    text-align: right;\n}\n\n#controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px 30px;\n}\n\n#controls label {\n  display: flex;\n  align-items: center;\n  margin: 0;\n}\n\n#controls label input {\n  margin-right: 5px;\n}\n\n#controls div.credits {\n    font-size: 40px;\n}\n\n#controls div.counter {\n    border-radius: 25px;\n    border: 5px black solid;\n    min-width: 300px;\n    text-align: center;\n    background-color: #f5f5f5;\n}\n\ninput[type=\"checkbox\"] {\n  width: 40px;\n  height: 40px;\n}\n\n#jackpot {\n  color: #D5AD6D;\n  font-size: 40px;\n  text-align: center;\n}\n\n#slot.inverted .reel {\n  transform: scaleY(-1);\n}\n\n#slot.inverted .reel > .icons > img {\n  transform: scaleY(-1);\n}\n\n@keyframes blink-animation {\n\t0% {opacity: 0}\n\t49%{opacity: 0}\n\t50% {opacity: 1}\n}\n\n#payouts {\n    margin-top: 10px;\n    color: white;\n    font-size: 25px;\n}\n\n.credit-label {\n    margin-top: 5px;\n}\n\n.blinker {\n  animation: blink-animation 1s infinite;\n}\n",""])},function(n,t){n.exports=function(n){return"string"!=typeof n?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),/["'() \t\n]/.test(n)?'"'+n.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':n)}},function(n,t){n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var e=function(n,t){var e=n[1]||"",i=n[3];if(!i)return e;if(t&&"function"==typeof btoa){var r=function(n){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"}(i),o=i.sources.map(function(n){return"/*# sourceURL="+i.sourceRoot+n+" */"});return[e].concat(o).concat([r]).join("\n")}return[e].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<n.length;r++){var s=n[r];"number"==typeof s[0]&&i[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),t.push(s))}},t}},function(n,t,e){n.exports=e.p+"1341e1e35d85a3560ed9e37c31e5eccc.png"},function(n,t,e){var i={},r=function(n){var t;return function(){return void 0===t&&(t=n.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(n){var t={};return function(n,e){if("function"==typeof n)return n();if(void 0===t[n]){var i=function(n,t){return t?t.querySelector(n):document.querySelector(n)}.call(this,n,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[n]=i}return t[n]}}(),s=null,a=0,l=[],c=e(20);function h(n,t){for(var e=0;e<n.length;e++){var r=n[e],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(b(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(b(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function d(n,t){for(var e=[],i={},r=0;r<n.length;r++){var o=n[r],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):e.push(i[s]={id:s,parts:[a]})}return e}function u(n,t){var e=o(n.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===n.insertAt)i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),l.push(t);else if("bottom"===n.insertAt)e.appendChild(t);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(n.insertAt.before,e);e.insertBefore(t,r)}}function f(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var t=l.indexOf(n);t>=0&&l.splice(t,1)}function p(n){var t=document.createElement("style");if(void 0===n.attrs.type&&(n.attrs.type="text/css"),void 0===n.attrs.nonce){var i=function(){0;return e.nc}();i&&(n.attrs.nonce=i)}return m(t,n.attrs),u(n,t),t}function m(n,t){Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])})}function b(n,t){var e,i,r,o;if(t.transform&&n.css){if(!(o="function"==typeof t.transform?t.transform(n.css):t.transform.default(n.css)))return function(){};n.css=o}if(t.singleton){var l=a++;e=s||(s=p(t)),i=y.bind(null,e,l,!1),r=y.bind(null,e,l,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(n){var t=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",m(t,n.attrs),u(n,t),t}(t),i=function(n,t,e){var i=e.css,r=e.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=c(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=n.href;n.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,e,t),r=function(){f(e),e.href&&URL.revokeObjectURL(e.href)}):(e=p(t),i=function(n,t){var e=t.css,i=t.media;i&&n.setAttribute("media",i);if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,e),r=function(){f(e)});return i(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;i(n=t)}else r()}}n.exports=function(n,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var e=d(n,t);return h(e,t),function(n){for(var r=[],o=0;o<e.length;o++){var s=e[o];(a=i[s.id]).refs--,r.push(a)}n&&h(d(n,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var g=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}();function y(n,t,e,i){var r=e?"":i.css;if(n.styleSheet)n.styleSheet.cssText=g(t,r);else{var o=document.createTextNode(r),s=n.childNodes;s[t]&&n.removeChild(s[t]),s.length?n.insertBefore(o,s[t]):n.appendChild(o)}}},function(n,t){n.exports=function(n){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var e=t.protocol+"//"+t.host,i=e+t.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,t){var r,o=t.trim().replace(/^"(.*)"$/,function(n,t){return t}).replace(/^'(.*)'$/,function(n,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?n:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?e+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(n,t,e){"use strict";e.r(t);const i={};class r{constructor(n=r.random()){this.name=n,i[n]?this.img=i[n].cloneNode():(this.img=new Image,this.img.src=e(1)(`./${n}.png`),i[n]=this.img)}static preload(){r.symbols.forEach(n=>new r(n))}static get symbols(){return["carmen_chef","carmen_space","carmen","darwin_hardhat","darwin","hammy_chef","hammy_sheriff","hammy_sherlock","hammy","yelp_burst"]}static random(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}static randomNoWild(){return this.symbols[Math.floor(Math.random()*(this.symbols.length-1))]}static get basePayouts(){return{hammy:[10,20,100],hammy_chef:[10,40,100],hammy_sherlock:[10,40,100],hammy_sheriff:[15,60,120],carmen:[20,80,150],carmen_chef:[20,100,250],carmen_space:[50,100,250],darwin:[50,150,300],darwin_hardhat:[100,300,500]}}}class o{constructor(n,t,e){this.reelContainer=n,this.idx=t,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{transform:"none",filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{transform:`translateY(-${10*Math.floor(this.factor)/(3+10*Math.floor(this.factor))*100}%)`,filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),e.forEach(n=>this.symbolContainer.appendChild(new r(n).img))}get factor(){return 1+Math.pow(this.idx/2,2)}renderSymbols(n,t){const e=document.createDocumentFragment();for(let n=3;n<3+10*Math.floor(this.factor);n++){const i=new r(n>=10*Math.floor(this.factor)-2?t[n-10*Math.floor(this.factor)]:void 0);e.appendChild(i.img)}this.symbolContainer.appendChild(e)}spin(){const n=new Promise(n=>this.animation.onfinish=n),t=new Promise(n=>setTimeout(n,1e3*this.factor));return this.animation.play(),Promise.race([n,t]).then(()=>{"finished"!==this.animation.playState&&this.animation.finish();const n=this.symbolContainer.children.length-3;for(let t=0;t<n;t++)this.symbolContainer.firstChild.remove()})}clearBlink(){this.symbolContainer.children[0].classList.remove("blinker"),this.symbolContainer.children[1].classList.remove("blinker"),this.symbolContainer.children[2].classList.remove("blinker")}blink(n){for(let t of n)this.symbolContainer.children[t].classList.add("blinker")}}new class{constructor(n,t={}){r.preload(),this.spinAudio=new Audio(e(12)),this.spinAudio.loop=!0,this.winAudio=new Audio(e(13)),this.winAudio.loop=!0,this.currentSymbols=[["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"]],this.nextSymbols=[["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"],["darwin_hardhat","darwin_hardhat","darwin_hardhat"]],this.rollupConfig=[{win:0,seconds:1,win_label:"Win"},{win:250,seconds:5,win_label:"Nice Win"},{win:500,seconds:8,win_label:"Great Win"},{win:1e3,seconds:15,win_label:"Amazing Win!"}],this.container=n,this.reels=Array.from(this.container.getElementsByClassName("reel")).map((n,t)=>new o(n,t,this.currentSymbols[t])),this.betElement=document.getElementById("bet"),this.winContainerElement=document.getElementById("win-counter"),this.winLabelElement=document.getElementById("win-label"),this.winAmountElement=document.getElementById("win"),this.creditElement=document.getElementById("credit"),this.payoutElement=document.getElementById("payouts"),this.spinning=!1,this.rollingUp=!1,this.won=!1,this.bet=50,this.credits=1e4,this.lastWin=0,document.addEventListener("keydown",this.handleKeypress.bind(this)),this.blinkInterval=null,this.rollupInterval=null,t.inverted&&this.container.classList.add("inverted")}spin(){return this.onSpinStart(),this.currentSymbols=this.nextSymbols,this.nextSymbols=[[r.randomNoWild(),r.randomNoWild(),r.randomNoWild()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()],[r.random(),r.random(),r.random()]],console.log(this.currentSymbols),console.log(this.nextSymbols),Promise.all(this.reels.map(n=>(n.renderSymbols(this.currentSymbols[n.idx],this.nextSymbols[n.idx]),n.spin()))).then(()=>this.onSpinEnd())}onSpinStart(){this.spinAudio.play(),this.spinning=!0,this.bet>this.credits&&(this.credits=1e4),this.credits=this.credits-this.bet,this.creditElement.innerHTML=this.credits,this.winContainerElement.hidden="hidden",this.stopBlinking(),console.log("SPIN START")}onSpinEnd(){this.spinAudio.pause(),this.spinAudio.currentTime=0,this.spinning=!1,console.log("SPIN END");let n=this.determineWins(),t=this.calculatePayouts(n);this.blinkPayouts(n,t),this.rollupWin(t)}determineWins(){var n={};for(const i of r.symbols)if("yelp_burst"!=i){for(var t=[],e=0;e<5;e++){let n=this.matchingSymbolPositions(this.nextSymbols[e],i);if(0===n.length)break;t.push(n)}t.length>=3&&(n[i]=t)}return console.log(n),n}matchingSymbolPositions(n,t){for(var e=[],i=0;i<3;i++)n[i]!=t&&"yelp_burst"!=n[i]||e.push(i);return e}rollupWin(n){let t=n.reduce(function(n,t){return n+t.totalWin},0);if(0==t)return;this.winAudio.play();var e=this.credits,i=0;this.credits=this.credits+t,this.lastWin=t,this.rollingUp=!0;let r=this.bet/50;var o=this.rollupConfig.reduce(function(n,e){return t>=e.win*r?e:n},1);this.winLabelElement.innerHTML=o.win_label,this.winAmountElement.innerHTML="0",this.winContainerElement.hidden="";var s=o.seconds;let a=Math.max(Math.floor(t/(100*s)),1);this.rollupInterval=setInterval(function(n){console.log(e),e=Math.min(e+a,n.credits),i=Math.min(i+a,n.lastWin),n.creditElement.innerHTML=e,n.winAmountElement.innerHTML=i,e==n.credits&&i==n.lastWin&&(clearInterval(n.rollupInterval),n.rollingUp=!1,n.winAudio.pause(),n.winAudio.currentTime=0)},10,this)}blinkPayouts(n,t){var e=Object.keys(n);if(0!=t.length){var i=0;r(this),this.blinkInterval=setInterval(r,3e3,this)}function r(r){console.log(i),r.reels.map(n=>n.clearBlink());let o=t[i],s=o.symbol,a=n[s];for(let n=0;n<a.length;n++)r.reels[n].blink(a[n]);let l=o.reelsWon,c=r.titleCase(s),h=o.baseWin,d="",u=o.multiplier;u>1&&(d=` (x${u})`);let f=`${l} ${c} wins ${h}${d}`;r.payoutElement.innerHTML=f,(i+=1)>=e.length&&(i=0)}}calculatePayouts(n){var t=[],e=Object.keys(n);if(0==e.length)return t;for(var i=0;i<e.length;i++){let o=e[i],s=n[o].length,a=r.basePayouts[o][s-3]*(this.bet/50),l=n[o].reduce(function(n,t){return n*t.length},1),c=a*l;t.push({symbol:o,reelsWon:s,baseWin:a,multiplier:l,totalWin:c})}return console.log(t),t}stopBlinking(){clearInterval(this.blinkInterval),this.reels.map(n=>n.clearBlink()),this.payoutElement.innerHTML=""}handleKeypress(n){const t=n.key;console.log(t),t>=0&&t<=9||" "==t?this.rollingUp?(clearInterval(this.rollupInterval),this.creditElement.innerHTML=this.credits,this.winAmountElement.innerHTML=this.lastWin,this.winAudio.pause(),this.winAudio.currentTime=0,this.rollingUp=!1):this.spinning||this.spin():"a"==t?this.spinning||this.updateBet(50):"d"==t?this.spinning||this.updateBet(100):"g"==t?this.spinning||this.updateBet(150):"j"==t?this.spinning||this.updateBet(200):"l"==t?this.spinning||this.updateBet(250):"+"==t||"="==t?this.spinning||this.updateBet(this.bet+50):"-"!=t&&"_"!=t||this.spinning||this.updateBet(this.bet-50)}updateBet(n){this.bet=n>250?250:n<50?50:n,this.betElement.innerHTML=this.bet}titleCase(n){for(var t=n.toLowerCase().split("_"),e=0;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].substring(1);return t.join(" ")}}(document.getElementById("slot"),{inverted:!0})}]);